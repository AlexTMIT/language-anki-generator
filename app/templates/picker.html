<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Choose images â€“ {{ word }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/picker.css') }}">
</head>
<body>
  <main class="card-picker">
    <!-- Word & subtitle -->
    <h1>{{ word }}</h1>
    <p class="subtitle">{{ trans }} ({{ gram }}) â€“ choose up to 3 images</p>

    <form id="f" method="post" enctype="multipart/form-data" data-msg="Saving noteâ€¦">
      <!-- Image grid -->
      <div class="grid" id="grid">
        {% for u in urls %}
          <label>
            <input type="checkbox" name="url" value="{{ u }}" hidden>
            <img src="{{ u }}" alt="">
          </label>
        {% endfor %}
      </div>

      <!-- Hidden file input for drag/drop & paste -->
      <input type="file" id="file" name="file" multiple accept="image/*" hidden>
      <input type="hidden" name="audio_b64" id="audio_b64">

      <!-- 3.  PROGRESS + BUTTONS   (only ONE set now) -->
      <div class="progress-controls">
        <span class="progress">{{ done }}/{{ total }} words completed</span>

        <div class="controls">
          <button type="button" id="recBtn" class="btn btn-outline">ðŸŽ¤ Record</button>
          <button type="submit" name="action" value="skip"  class="btn btn-outline">Skip</button>
          <button type="submit" name="action" value="keep"  id="btn" class="btn btn-primary" disabled>Save</button>
        </div>
      </div>
    </form>
  </main>

  <!-- Your socket.io & UI helpers (if used) -->
  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js" crossorigin="anonymous"></script>
  <script src="{{ url_for('static', filename='l2_ui.js') }}"></script>

  <!-- Picker logic -->
  <script src="{{ url_for('static', filename='js/picker.js') }}" defer></script>
</body>
</html>